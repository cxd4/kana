function is_single(a){"use strict";switch(a){case"A":case"a":case"I":case"i":case"U":case"u":case"E":case"e":case"O":case"o":case"N":case"n":return!0}return!1}function sound_from_vowel(a,b,c){"use strict";switch(combo_ext=!1,b){case"a":return a;case"i":return a+ +c;case"u":return a+2*c;case"e":return a+3*c;case"o":return a+4*c;case"y":return combo_ext=!0,a+ +c}return 0}function combo_from_vowel(a,b){"use strict";switch(combo_ext=!1,a){case"a":return HIRA_ya+96*b;case"u":return HIRA_yu+96*b;case"o":return HIRA_yo+96*b;case"i":return HIRA_yi+96*b;case"e":return HIRA_ye+96*b}return 0}function a_to_kana(a){"use strict";var b;switch(ascii_in=2,a[0]){case" ":case"_":return ascii_in=1,32;case"-":return ascii_in=1,0;case".":return ascii_in=1,12290;case",":return ascii_in=1,12289;case"[":return ascii_in=1,12300;case"]":return ascii_in=1,12301;case"(":return ascii_in=1,12302;case")":return ascii_in=1,12303;case"a":return ascii_in=1,HIRA_A;case"i":return ascii_in=1,HIRA_I;case"u":return ascii_in=1,HIRA_U;case"e":return ascii_in=1,HIRA_E;case"o":return ascii_in=1,HIRA_O;case"n":return 0===(b=sound_from_vowel(HIRA_NA,a[1],1))?(ascii_in=1,HIRA_N):b;case"A":return ascii_in=1,KATA_A;case"I":return ascii_in=1,KATA_I;case"U":return ascii_in=1,KATA_U;case"E":return ascii_in=1,KATA_E;case"O":return ascii_in=1,KATA_O;case"N":return 0===(b=sound_from_vowel(KATA_NA,tolower(a[1]),1))?(ascii_in=1,KATA_N):b;case"D":switch(toupper(a[1])){case"I":return KATA_DI;case"Y":return ascii_in=3,"U"===toupper(a[2])?KATA_DYU:0;case"A":return KATA_DA;case"E":return KATA_DE;case"O":return KATA_DO}return 0;case"F":switch(toupper(a[1])){case"A":return KATA_FA;case"I":return KATA_FI;case"E":return KATA_FE;case"O":return KATA_FO;case"Y":return ascii_in=3,"U"===toupper(a[2])?KATA_FYU:0;case"U":return KATA_FU}return 0;case"T":switch(toupper(a[1])){case"I":return KATA_TI;case"S":switch(ascii_in=3,toupper(a[2])){case"A":return KATA_TSA;case"I":return KATA_TSI;case"E":return KATA_TSE;case"O":return KATA_TSO;case"U":return KATA_TSU}return 0;case"A":return KATA_TA;case"E":return KATA_TE;case"O":return KATA_TO}return 0;case"V":switch(toupper(a[1])){case"U":return KATA_VU;case"A":return KATA_VA;case"I":return KATA_VI;case"E":return KATA_VE;case"O":return KATA_VO}return 0;case"W":switch(toupper(a[1])){case"I":return KATA_WI;case"E":return KATA_WE;case"O":return KATA_W_O;case"A":return KATA_WA;case"U":return KATA_WU}return 0;case"d":return(b=sound_from_vowel(HIRA_DA,a[1],2))>HIRA_DI?b+1:b;case"f":return"u"===a[1]?HIRA_FU:0;case"t":switch(a[1]){case"a":return HIRA_TA;case"s":return ascii_in=3,"u"===a[2]?HIRA_TSU:0;case"e":return HIRA_TE;case"o":return HIRA_TO}return 0;case"w":switch(a[1]){case"a":return HIRA_WA;case"i":return HIRA_WI;case"u":return HIRA_WU;case"e":return HIRA_WE;case"o":return HIRA_W_O}return 0;case"k":return sound_from_vowel(HIRA_KA,a[1],2);case"K":return sound_from_vowel(KATA_KA,tolower(a[1]),2);case"s":switch(a[1]){case"a":return HIRA_SA;case"h":switch(ascii_in=3,a[2]){case"a":return HIRA_SHA;case"i":return HIRA_SHI;case"u":return HIRA_SHU;case"e":return 0;case"o":return HIRA_SHO}return 0;case"u":return HIRA_SU;case"e":return HIRA_SE;case"o":return HIRA_SO}return 0;case"S":switch(toupper(a[1])){case"A":return KATA_SA;case"H":switch(ascii_in=3,toupper(a[2])){case"A":return KATA_SHA;case"I":return KATA_SHI;case"U":return KATA_SHU;case"E":return 0;case"O":return KATA_SHO}return 0;case"U":return KATA_SU;case"E":return KATA_SE;case"O":return KATA_SO}return 0;case"c":if(ascii_in=3,"h"!==a[1])return 0;switch(a[2]){case"a":return HIRA_CHA;case"i":return HIRA_CHI;case"u":return HIRA_CHU;case"e":return 0;case"o":return HIRA_CHO}return 0;case"C":if(ascii_in=3,"H"!==toupper(a[1]))return 0;switch(toupper(a[2])){case"A":return KATA_CHA;case"I":return KATA_CHI;case"U":return KATA_CHU;case"E":return KATA_CHE;case"O":return KATA_CHO}return 0;case"h":return combo_ext?combo_from_vowel(a[1],0):sound_from_vowel(HIRA_HA,a[1],3);case"H":return combo_ext?combo_from_vowel(tolower(a[1]),1):sound_from_vowel(KATA_HA,tolower(a[1]),3);case"m":return sound_from_vowel(HIRA_MA,a[1],1);case"M":return sound_from_vowel(KATA_MA,tolower(a[1]),1);case"r":return sound_from_vowel(HIRA_RA,a[1],1);case"R":return sound_from_vowel(KATA_RA,tolower(a[1]),1);case"y":if(combo_ext)return combo_from_vowel(a[1],0);switch(a[1]){case"a":return HIRA_YA;case"i":return HIRA_YI;case"u":return HIRA_YU;case"e":return HIRA_YE;case"o":return HIRA_YO}return 0;case"Y":if(combo_ext)return combo_from_vowel(tolower(a[1]),1);switch(toupper(a[1])){case"A":return KATA_YA;case"I":return KATA_YI;case"U":return KATA_YU;case"E":return KATA_YE;case"O":return KATA_YO}return 0;case"g":return sound_from_vowel(HIRA_GA,a[1],2);case"G":return sound_from_vowel(KATA_GA,tolower(a[1]),2);case"z":return sound_from_vowel(HIRA_ZA,a[1],2);case"Z":return sound_from_vowel(KATA_ZA,tolower(a[1]),2);case"b":return sound_from_vowel(HIRA_BA,a[1],3);case"B":return sound_from_vowel(KATA_BA,tolower(a[1]),3);case"p":return sound_from_vowel(HIRA_PA,a[1],3);case"P":return sound_from_vowel(KATA_PA,tolower(a[1]),3);case"j":switch(a[1]){case"a":return HIRA_JA;case"i":return HIRA_JI;case"u":return HIRA_JU;case"o":return HIRA_JO}return 0;case"J":switch(toupper(a[1])){case"A":return KATA_JA;case"I":return KATA_JI;case"U":return KATA_JU;case"E":return KATA_JE;case"O":return KATA_JO}return 0}return 0}function rtok(){"use strict";var a,b=0,c=document,d=c.getElementById("romaji").value,e=c.getElementById("kana");for(e.innerHTML="",b=0;b<d.length;)switch(d[b]!==d[b+1]||is_single(d[b])||("A"<=d[b]&&d[b]<="Z"?e.innerHTML+=unitohtml(KATA_tsu):"a"<=d[b]&&d[b]<="z"&&(e.innerHTML+=unitohtml(HIRA_tsu)),b+=1),a=a_to_kana(d.substring(b))){case 32:if(d[(b+=1)-2]<"A"||"Z"<d[b-2]){e.innerHTML+=" ";break}if(d[b]<"A"||"Z"<d[b]){e.innerHTML+=" ";break}e.innerHTML+=unitohtml(12539);break;case HIRA_WA:" "===d[b-1]&&" "===d[b+2]&&(a=HIRA_HA),e.innerHTML+=unitohtml(a),b+=2;break;case HIRA_O:" "===d[b-1]&&" "===d[b+1]&&(a=HIRA_W_O),e.innerHTML+=unitohtml(a),b+=1;break;case HIRA_E:" "===d[b-1]&&" "===d[b+1]&&(a=HIRA_HE),e.innerHTML+=unitohtml(a),b+=1;break;case KATA_I:d[b-1]!==d[b]&&"E"!==d[b-1]||(a=12540),e.innerHTML+=unitohtml(a),b+=1;break;case KATA_U:d[b-1]!==d[b]&&"O"!==d[b-1]||(a=12540),e.innerHTML+=unitohtml(a),b+=1;break;case KATA_A:case KATA_E:case KATA_O:d[b-1]===d[b]&&(a=12540),e.innerHTML+=unitohtml(a),b+=1;break;case HIRA_CHA:e.innerHTML+=unitohtml(HIRA_CHI),e.innerHTML+=unitohtml(HIRA_ya),b+=3;break;case HIRA_CHU:e.innerHTML+=unitohtml(HIRA_CHI),e.innerHTML+=unitohtml(HIRA_yu),b+=3;break;case HIRA_CHO:e.innerHTML+=unitohtml(HIRA_CHI),e.innerHTML+=unitohtml(HIRA_yo),b+=3;break;case KATA_CHA:e.innerHTML+=unitohtml(KATA_CHI),e.innerHTML+=unitohtml(KATA_ya),b+=3;break;case KATA_CHU:e.innerHTML+=unitohtml(KATA_CHI),e.innerHTML+=unitohtml(KATA_yu),b+=3;break;case KATA_CHE:e.innerHTML+=unitohtml(KATA_CHI),e.innerHTML+=unitohtml(KATA_e),b+=3;break;case KATA_CHO:e.innerHTML+=unitohtml(KATA_CHI),e.innerHTML+=unitohtml(KATA_yo),b+=3;break;case KATA_DI:e.innerHTML+=unitohtml(KATA_DE),e.innerHTML+=unitohtml(KATA_i),b+=2;break;case KATA_DYU:e.innerHTML+=unitohtml(KATA_DE),e.innerHTML+=unitohtml(KATA_yu),b+=3;break;case HIRA_JA:e.innerHTML+=unitohtml(HIRA_JI),e.innerHTML+=unitohtml(HIRA_ya),b+=2;break;case HIRA_JU:e.innerHTML+=unitohtml(HIRA_JI),e.innerHTML+=unitohtml(HIRA_yu),b+=2;break;case HIRA_JO:e.innerHTML+=unitohtml(HIRA_JI),e.innerHTML+=unitohtml(HIRA_yo),b+=2;break;case KATA_JA:e.innerHTML+=unitohtml(KATA_JI),e.innerHTML+=unitohtml(KATA_ya),b+=2;break;case KATA_JU:e.innerHTML+=unitohtml(KATA_JI),e.innerHTML+=unitohtml(KATA_yu),b+=2;break;case KATA_JO:e.innerHTML+=unitohtml(KATA_JI),e.innerHTML+=unitohtml(KATA_yo),b+=2;break;case KATA_JE:e.innerHTML+=unitohtml(KATA_JI),e.innerHTML+=unitohtml(KATA_e),b+=2;break;case KATA_FA:e.innerHTML+=unitohtml(KATA_FU),e.innerHTML+=unitohtml(KATA_a),b+=2;break;case KATA_FI:e.innerHTML+=unitohtml(KATA_FU),e.innerHTML+=unitohtml(KATA_i),b+=2;break;case KATA_FE:e.innerHTML+=unitohtml(KATA_FU),e.innerHTML+=unitohtml(KATA_e),b+=2;break;case KATA_FO:e.innerHTML+=unitohtml(KATA_FU),e.innerHTML+=unitohtml(KATA_o),b+=2;break;case KATA_WA:if('"'===d[b+2]){e.innerHTML+=unitohtml(KATA_VA),b+=3;break}e.innerHTML+=unitohtml(KATA_WA),b+=2;break;case KATA_WI:if('"'===d[b+2]){e.innerHTML+=unitohtml(KATA_VI),b+=3;break}e.innerHTML+=unitohtml(KATA_U),e.innerHTML+=unitohtml(KATA_i),b+=2;break;case KATA_WE:if('"'===d[b+2]){e.innerHTML+=unitohtml(KATA_VE),b+=3;break}e.innerHTML+=unitohtml(KATA_U),e.innerHTML+=unitohtml(KATA_e),b+=2;break;case KATA_W_O:if('"'===d[b+2]){e.innerHTML+=unitohtml(KATA_VO),b+=3;break}e.innerHTML+=unitohtml(KATA_W_O),b+=2;break;case KATA_VI:e.innerHTML+=unitohtml(KATA_VU),e.innerHTML+=unitohtml(KATA_i),b+=2;break;case KATA_VE:e.innerHTML+=unitohtml(KATA_VU),e.innerHTML+=unitohtml(KATA_e),b+=2;break;default:0===a?("\n"===d[b]?e.innerHTML+="<br>":"-"!==d[b]&&(e.innerHTML+=d[b]),b+=1):(e.innerHTML+=unitohtml(a),b+=combo_ext?1:ascii_in)}c.getElementById("ft").href="https://translate.google.com/#view=home&",c.getElementById("ft").href+="op=translate&sl=ja&tl=en&text=",c.getElementById("ft").href+=e.innerHTML}var combo_ext=!1,ascii_in=0;